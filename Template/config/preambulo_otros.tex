% GRÁFICOS

% El paquete estándar para incluir gráficos
\usepackage{graphicx}


% La ruta por defecto hacia las imágenes
\graphicspath{{./imgs/}}


% Al incluir imágenes, podemos definir el ancho y la altura, que serán máximos si
% forzamos mantener la relación de aspecto. Un ejemplo:
%\includegraphics[width=\textwidth,height=0.9\textheight,keepaspectratio]{SegmentadorBorde1.png}


% Configuramos las leyendas de figuras y tablas:
%  Modo habitual:
%\usepackage{caption}
%\captionsetup{%
%  font=footnotesize,% set font size to footnotesize
%  labelfont=bf % bold label (e.g., Figure 3.2) font
%}
%
%  Con KOMA-Script:
%   Tamaño de fuente
\addtokomafont{caption}{\small}
%   Etiquetas en negrita
\addtokomafont{captionlabel}{\bfseries}


% Paquete para usar colores y definición de colores
\usepackage{xcolor}


% Color para los títulos. Tal vez es muy oscuro al convertir a CMYK y no 
% se ve bien en las impresiones. Eso me pasó a mí. Sugiero algo más claro.
\definecolor{colortitulos}{RGB}{0,20,75}
\definecolor{negro}{RGB}{0,0,0}
\addtokomafont{sectioning}{\color{colortitulos}}
\addtokomafont{minisec}{\color{negro}}


% Paquete para poder añadir subtablas y subfiguras, con sus respectivos epígrafes.
\usepackage{subcaption}



% TABLAS
% https://en.wikibooks.org/wiki/LaTeX/Tables

% Make the standard latex tables look so much better
% An extended implementation of the array and tabular environments which extends the options for column formats, and provides "programmable" format specifications.
% The pack­age en­hances the qual­ity of ta­bles in LaTeX, pro­vid­ing ex­tra com­mands as well as be­hind-the-scenes op­ti­mi­sa­tion. Guide­lines are given as to what con­sti­tutes a good ta­ble in this con­text. 
% Frank Mittelbach's and David Carlisle's array.sty patches and improves
% the standard LaTeX2e array and tabular environments to provide better
% appearance and additional user controls. As the default LaTeX2e table
% generation code is lacking to the point of almost being broken with
% respect to the quality of the end results, all users are strongly
% advised to use an enhanced (at the very least that provided by array.sty)
% set of table tools. array.sty is already installed on most systems. The
% latest version and documentation can be obtained at:
% http://www.ctan.org/pkg/array
\usepackage{array,booktabs}
% Sugerimos leer la documentación del paquete 'booktabs', ya que 
% discute interesantes cuestiones de estilo de tablas.


% Para poder usar celdas que abarquen más de una fila.
\usepackage{multirow}


% El paquete Tabulary ofrece más (y mejores) opciones de columnas para 
% la creación de tablas.
% Tabularx es otra alternativa.
% Sugerimos usar asistentes para la creación de tablas, sea online o
% del editor de LaTeX que estés usando (como TeXstudio).
% Uno online es https://www.tablesgenerator.com/
\usepackage{tabulary}
%\usepackage{tabularx}



% REFERENCIAS Y TEXTO
% BibLaTeX para la gestión de referencias, con Biber como motor.
% https://tex.stackexchange.com/questions/25701/bibtex-vs-biber-and-biblatex-vs-natbib
%
% style=numeric usa números entre corchetes para referenciar. Estilo IEEE.
% sorting=none presenta referencias en el orden en que fueron citadas en el texto.
% backref es para nombrar (y enlazar) a las páginas donde fueron citadas.
% hyperref, junto al paquete homónimo, crea enlaces clickeables.
\usepackage[backend=biber,style=numeric,sorting=none,backref=true,hyperref=true]{biblatex}

% El nombre del archivo con nuestras referencias. Se pueden crear con otros programas,
% como JabRef
\bibliography{tfinal.bib}

% Para que no ponga un punto al final de cada entrada de la bibliografía.
% Esos puntos hacen que las URLs se vean extrañas (y confundan al que las copia
% a mano), aunque no afectan a los hipervínculos digitales.
\renewcommand{\finentrypunct}{} 

% Traducciones
\DefineBibliographyStrings{spanish}{%
    backrefpage = {Citado en página},% originally "cited on page" vid.
    backrefpages = {Citado en páginas},% originally "cited on pages"
}

% Insertamos las referencias en el índice:
%\KOMAoptions{bibliography=totoc}
%\KOMAoption{bibliography}{totoc}
%   'bibliography=totoc' debe estar como opción global del documento
%   o clase, por requerimiento de
%   BibLaTeX. No funciona como \KOMAoptions{bibliography=totoc} o
%   \KOMAoption{bibliography}{totoc}. Me parece que es culpa de Biblatex o
%   Biber y no de Koma.



% Paquete para la gestión de comillas y citas textuales. 
% En español deberíamos usar las comillas angulares como principales.
% El orden es « », “ ”, ‘ ’. El paquete se encarga de usar las que
% corresponda para el idioma en uso y el nivel.
% Esto es discutible. En sudamérica se suelen usar las elevadas como
% principales. Queda a criterio del escritor...
% Uso: \enquote{text}. Es recomendable configurar el editor para que 
% automáticamente introduzca \enquote{}
% La opción 'strict' es para convertir las advertencias en errores.
% La opción 'autostyle' es para cambiar automáticamente al idioma en uso.
\usepackage[strict=true,autostyle=true]{csquotes}



% Paquete para el manejo de unidades de medida. Ejemplos:
% \SI{30}{\kg},  \SI{80}{\percent}, \num{2015}, \num{40000}, \SI{800x600}{\pixel}, \num{640x480}, \ang{45}, \SIrange{10}{20}{\kilogram}, \SIlist{1;2;3}{\metre} , \SIrange{1}{10}{\degreeCelsius}, \SI{12.3(2)}{\kilogram}
\usepackage[allowlitunits]{siunitx}
%\selectlanguage{spanish} % Lo recargamos, el paquete lo necesita así.
\sisetup{group-digits = true} % Agrupación de a 3 cifras
\sisetup{group-minimum-digits = 5} % hasta 4 no separa de a 3.
\sisetup{group-separator = {\,}} % Un espacio pequeño
\sisetup{output-decimal-marker = {,}} % La coma para separar enteros de decimales
\sisetup{range-units=single} % para no repetir las unidades en los listados
\sisetup{separate-uncertainty} % para mostrar la incertumbre como +-, aparte. Se ingresa como certeza(incertidumbre). EJ: 12.2(4)
\sisetup{multi-part-units = single} % para no mostrar dos veces la unidad al separar la incertidumbre
\sisetup{product-units = single } % para no repetir la unidad en productos
\sisetup{list-units = single} % para no repetir la unidad en las listas
\DeclareSIUnit\pixel{px} % Agregamos el píxel como unidad
% Traducimos a mano porque no está funcionando la traducción automática...
\sisetup{range-phrase = ~a~} % 
\sisetup{list-pair-separator = ~y~}
\sisetup{list-final-separator = ~y~}


% Añadir 'Apéndice' al título de los apéndices.
%\KOMAoptions{appendixprefix=true} 





% FORMATO
% NOTA: Ver también el paquete 'minted', se ve muy interesante
% Código de programa:
% El paquete listingsutf8 nos permite cargar código con carateres no ASCII,
% una limitación del paquete listings.
% Lo más fácil, para evitar problemas extraños, es no incluir el código dentro
% del archivo .tex, sino importarlo desde archivos externos. Esto implica no
% usar el entorno 'lstlisting' sino usar el comando
% \lstinputlisting[opciones]{archivo}
%
% Un ejemplo, usando también el paquete matlab-prettifier cargado posteriormente:
% \lstinputlisting[style=Matlab-editor, caption = {Cálculo del vector de covarianza de dos señales.}]{matlab.m}
\usepackage{listingsutf8}
\lstset{inputencoding=utf8/latin1}

% Cambiamos "Listing" o "Listado" por "Programa"
\renewcommand{\lstlistingname}{Programa}
% Para MATLAB
\usepackage[numbered,framed]{matlab-prettifier}


 % to allow verbatim in footnote
\usepackage{bigfoot}


% Paquete para modificar el espaciado de las listas y sus ítems. El espaciado
% por defecto de KOMA-Script (¿o de LaTeX?) es demasiado amplio para mi gusto.
\usepackage{enumitem}
%\setlist{nosep} % or \setlist{noitemsep} to leave space around whole list
\setlist{itemsep=-1ex} % Valor empírico.
%\setlist{noitemsep}


% Mejoras tipográficas.
\usepackage{microtype}


% Para usar negritas en el modo matemático.
\usepackage{bm} %bold symbols in math mode


% Para un correcto espaciamiento y separación en renglones de las URLs.
% En particular, útil para las URLs escritas en las referencias.
\usepackage{url} % Ver si es prescindible; tal vez con hyperref basta.


% Paquetes que podrían usarse para insertar páginas horizontales.
% Quizás útiles para tablas largas o algo así.
%\usepackage{pdflscape}
% \usepackage{afterpage}


% Para evitar que las notas al pie muy largas se expandan a otras páginas.
% \interfootnotelinepenalty=10000 %% Completely prevent breaking of footnotes



% OTROS

% Paquete para añadir notas de cosas pendientes al margen del documento.
% Nuestro margen es muy chico, así que no se ven bien. Pero se pueden usar
% con la opción [inline] para mostrarlas dentro del cuerpo del texto. 
% Para mayor facilidad, creamos la macro \td{texto}, que es equivalente
% a \todo[inline]{texto}. Ver en config/macros.tex.
\usepackage[
%  disable, %turn off todonotes
colorinlistoftodos, %enable a coloured square in the list of todos
textwidth=\marginparwidth, %set the width of the todonotes
%  textsize=scriptsize, %size of the text in the todonotes
textsize=tiny,
obeyFinal, % Si seleccionamos la opción 'final' en la clase de documento, se dejan de ver.
spanish,
]{todonotes}


% El paquete hyperref añade soporte para hipervínculos. Debe ser agregado
% como último paquete. A continuación definimos algunas opciones y 
% declaramos metadatos del PDF generado por PDFLaTeX.
\usepackage[hidelinks]{hyperref}
\hypersetup{%
    pdfpagelabels=true,%
    plainpages=false,%
    pdfauthor={nombre APELLIDO},%
    pdftitle={Título del trabajo},%
    pdfsubject={Trabajo Final, UNSJ},%
    bookmarksnumbered=true,%
    pdfstartview=FitH%
}%falta índice en marcadores.


%  
%\usepackage[hidelinks]{hyperref}
%\hypersetup{%
%	pdfpagelabels=true,%
%	plainpages=false,%
%	pdfauthor={Pablo Daniel AGUADO},%
%	pdftitle={Una estrategia para la clasificación óptica de almendras},%
%	pdfsubject={Trabajo Final, UNSJ},%
%	bookmarksnumbered=true,%
%	colorlinks=false,%
%	citecolor=black,%
%	filecolor=black,%
%	linkcolor=black,% you should probably change this to black before printing
%	urlcolor=black,%
%	pdfstartview=FitH%
%}



% SUGERENCIA: Usar \cref en lugar de \ref{} para 
% referenciar dentro del texto.

% Este paquete facilita la referenciación de elementos en el texto.
% Debe ser agregado luego de 'hyperref'. Algunos comandos:
%  \cref{etiqueta1}
%  \cref{etiqueta1, etiqueta2, ...}
%  \pageref{etiqueta1, etiqueta2, ...}
\usepackage[spanish, nameinlink]{cleveref}
% Cambiamos "Apartado" por "Sección" y
% "Cuadro" por "Tablas". Estas traducciones son de cleveref y no de babel.
\crefname{section}{sección}{secciones}
\Crefname{section}{Sección}{Secciones}
\crefname{table}{tabla}{tablas}
\Crefname{table}{Tabla}{Tablas}